<!-- 
<section class="my-4 container">
    <h2>Popular Products</h2>
    <input type="search" class="form-control w-50 mx-auto my-3" placeholder="search" [(ngModel)]="searchTerm">
    <div class="row g-4">
        <div class="col-md-3" *ngFor="let product of products | search:searchTerm">
            <div class="product text-center" >
              <div class="p-2 cursor-pointer" [routerLink]="['/details' , product._id]">
                <img [src]="product.imageCover" class="w-100" [alt]="product.title">
                <h3 class="h6 text-main pt-2"> {{product.category.name | buy}} </h3>
                <h4 class="h6"> {{product.title | termtext:2}} </h4>
                <div class="d-flex align-items-center justify-content-between">
                    <span> {{product.price | currency:'EUR'}} </span>
                  <div>
                    <i class="fas fa-star rating-color"></i>
                    <span class="text-muted"> {{product.ratingsAverage}} </span>
                  </div>
            </div>
             </div>
            <button (click)="addCart(product._id)" class="w-75 mb-3 btn-main"> + Add Product </button>
        </div>
        
    </div>
    </div>
</section> -->
<section class="my-4 container">
  <h2>Popular Products</h2>
  <input type="search" class="form-control w-50 mx-auto my-3" placeholder="search" [(ngModel)]="searchTerm">
  <div class="row g-4">
      <div class="col-md-3" *ngFor="let product of products.slice(0,12) | search:searchTerm let i = index" >
          <div class="product position-relative" >
            <i class="fas fa-heart heart"  [class.clicked]="wishList.includes(product.id)" (click)="addWishlist( product._id, i)"></i>

           <!-- <i class="fa-solid fa-heart text-danger"></i> -->
            <div class="p-2 cursor-pointer" [routerLink]="['/details' , product._id]">
              <img [src]="product.imageCover" class="w-100" [alt]="product.title">
              <h3 class="h6 text-main pt-2"> {{product.category.name | buy}} </h3>
              <h4 class="h6"> {{product.title | termtext:2}} </h4>
              <div class="d-flex align-items-center justify-content-between">
                  <span> {{product.price | currency:'EUR'}} </span>
                <div>
                  <i class="fas fa-star rating-color"></i>
                  <span class="text-muted"> {{product.ratingsAverage}} </span>
                </div>
          </div>
           </div>
          <button (click)="addCart(product._id)" class="w-75 mb-3 ms-2 btn-main"> + Add Product </button>
      </div>
      
  </div>
  </div>
</section>